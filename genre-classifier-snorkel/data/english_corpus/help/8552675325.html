<!-- <DOCUMENT>
	<FILE>
		8552675325.html
	</FILE>
	<URL>
		http://de.php.net/manual/en/faq.build.php
	</URL>
	<TITLE>
		PHP: Build Problems - Manual
	</TITLE>
	<GENRE>
		help
	</GENRE>
	<PLAINTEXT>
 PHP: Build Problems - Manual downloads | documentation | faq | getting help | mailing lists | reporting bugs | php.net sites | links | my php.net s earch for in the function list whole site online documentation [en] bug database general mailing list developer mailing list documentation mailing list PHP Manual FAQ General Information Mailing lists Obtaining PHP Database issues Installation Build Problems Using PHP PHP and HTML PHP and COM PHP and other languages Migrating from PHP 2 to PHP 3 Migrating from PHP 3 to PHP 4 Miscellaneous Questions Installation Using PHP view the printer friendly printer friendly [+notes] Brazilian Portuguese Chinese (Simplified) Chinese (Hong Kong Cantonese) Chinese (Traditional) Czech Dutch Finnish French German Greek Hebrew Hungarian Italian Japanese Korean Polish Romanian Russian Slovak Slovenian Spanish Swedish Turkish version of this page Last updated: Thu, 08 Jan 2004 Chapter 49. Build Problems &#13; This section gathers most common errors that occur at build time. 1. &#13; I got the latest version of PHP using the anonymous CVS service, but there's no configure script! 2. &#13; I'm having problems configuring PHP to work with Apache. It says it can't find httpd.h , but it's right where I said it is! 3. &#13; While configuring PHP ( ./configure ), you come across an error similar to the following: 4. &#13; When I try to start Apache, I get the following message: 5. &#13; When I run configure, it says that it can't find the include files or library for GD, gdbm, or some other package! 6. &#13; When it is compiling the file language-parser.tab.c , it gives me errors that say yytname undeclared . 7. &#13; When I run make , it seems to run fine but then fails when it tries to link the final application complaining that it can't find some files. 8. &#13; When linking PHP, it complains about a number of undefined references. 9. &#13; I can't figure out how to build PHP with Apache 1.3. 10. &#13; I have followed all the steps to install the Apache module version on Unix, and my PHP scripts show up in my browser or I am being asked to save the file. 11. &#13; It says to use: --activate-module=src/modules/php4/libphp4.a , but that file doesn't exist, so I changed it to --activate-module=src/modules/php4/libmodphp4.a and it doesn't work!? What's going on? 12. &#13; When I try to build Apache with PHP as a static module using --activate-module=src/modules/php4/libphp4.a it tells me that my compiler is not ANSI compliant. 13. &#13; When I try to build PHP using --with-apxs I get strange error messages. 14. &#13; During make , I get errors in microtime, and a lot of RUSAGE_ stuff. 15. &#13; When compiling PHP with MySQL, configure runs fine but during make I get an error similar to the following: ext/mysql/libmysql/my_tempnam.o(.text+0x46): In function my_tempnam': /php4/ext/mysql/libmysql/my_tempnam.c:103: the use of tempnam' is dangerous, better use mkstemp' , what's wrong? 16. &#13; I want to upgrade my PHP. Where can I find the ./configure line that was used to build my current PHP installation? 17. &#13; When building PHP with the GD library it either gives strange compile errors or segfaults on execution. 18. &#13; When compiling PHP I seemingly get random errors, like it hangs. I'm using Solaris if that matters. 1. I got the latest version of PHP using the anonymous CVS service, but there's no configure script! You have to have the GNU autoconf package installed so you can generate the configure script from configure.in . Just run ./buildconf in the top-level directory after getting the sources from the CVS server. (Also, unless you run configure with the --enable-maintainer-mode option, the configure script will not automatically get rebuilt when the configure.in file is updated, so you should make sure to do that manually when you notice configure.in has changed. One symptom of this is finding things like @VARIABLE@ in your Makefile after configure or config.status is run.) 2. I'm having problems configuring PHP to work with Apache. It says it can't find httpd.h , but it's right where I said it is! You need to tell the configure/setup script the location of the top-level of your Apache source tree. This means that you want to specify --with-apache=/path/to/apache and not --with-apache=/path/to/apache/src . 3. While configuring PHP ( ./configure ), you come across an error similar to the following: &#13; checking lex output file root... ./configure: lex: command not found configure: error: cannot find output from lex; giving up Be sure to read the installation instructions carefully and note that you need both flex and bison installed to compile PHP. Depending on your setup you will install bison and flex from either source or a package, such as a RPM. 4. When I try to start Apache, I get the following message: &#13; fatal: relocation error: file /path/to/libphp4.so: symbol ap_block_alarms: referenced symbol not found This error usually comes up when one compiles the Apache core program as a DSO library for shared usage. Try to reconfigure apache, making sure to use at least the following flags: &#13; --enable-shared=max --enable-rule=SHARED_CORE &#13; For more information, read the top-level Apache INSTALL file or the Apache DSO manual page . 5. When I run configure, it says that it can't find the include files or library for GD, gdbm, or some other package! You can make the configure script looks for header files and libraries in non-standard locations by specifying additional flags to pass to the C preprocessor and linker, such as: CPPFLAGS=-I/path/to/include LDFLAGS=-L/path/to/library ./configure If you're using a csh-variant for your login shell (why?), it would be: env CPPFLAGS=-I/path/to/include LDFLAGS=-L/path/to/library ./configure 6. When it is compiling the file language-parser.tab.c , it gives me errors that say yytname undeclared . You need to update your version of Bison. You can find the latest version at http://www.gnu.org/software/bison/bison.html . 7. When I run make , it seems to run fine but then fails when it tries to link the final application complaining that it can't find some files. Some old versions of make that don't correctly put the compiled versions of the files in the functions directory into that same directory. Try running cp *.o functions and then re-running make to see if that helps. If it does, you should really upgrade to a recent version of GNU make. 8. When linking PHP, it complains about a number of undefined references. Take a look at the link line and make sure that all of the appropriate libraries are being included at the end. Common ones that you might have missed are '-ldl' and any libraries required for any database support you included. &#13; If you're linking with Apache 1.2.x, did you remember to add the appropriate information to the EXTRA_LIBS line of the Configuration file and re-rerun Apache's Configure script? See the INSTALL file that comes with the distribution for more information. &#13; Some people have also reported that they had to add '-ldl' immediately following libphp4.a when linking with Apache. 9. I can't figure out how to build PHP with Apache 1.3. This is actually quite easy. Follow these steps carefully: &#13; Grab the latest Apache 1.3 distribution from http://www.apache.org/dist/httpd/ . &#13; Ungzip and untar it somewhere, for example /usr/local/src/apache-1.3 . &#13; Compile PHP by first running ./configure --with-apache=/&#60;path&#62;/apache-1.3 (substitute &#60;path&#62; for the actual path to your apache-1.3 directory. &#13; Type make followed by make install to build PHP and copy the necessary files to the Apache distribution tree. &#13; Change directories into to your /&#60;path&#62;/apache-1.3/src directory and edit the Configuration file. Add to the file: AddModule modules/php4/libphp4.a . &#13; Type: ./configure followed by make . &#13; You should now have a PHP-enabled httpd binary! &#13; Note: You can also use the new Apache ./configure script. See the instructions in the README.configure file which is part of your Apache distribution. Also have a look at the INSTALL file in the PHP distribution. 10. I have followed all the steps to install the Apache module version on Unix, and my PHP scripts show up in my browser or I am being asked to save the file. This means that the PHP module is not getting invoked for some reason. Three things to check before asking for further help: &#13; Make sure that the httpd binary you are running is the actual new httpd binary you just built. To do this, try running: /path/to/binary/httpd -l &#13; If you don't see mod_php4.c listed then you are not running the right binary. Find and install the correct binary. &#13; Make sure you have added the correct Mime Type to one of your Apache .conf files. It should be: AddType application/x-httpd-php3 .php3 (for PHP 3) &#13; or AddType application/x-httpd-php .php (for PHP 4) Also make sure that this AddType line is not hidden away inside a &#60;Virtualhost&#62; or &#60;Directory&#62; block which would prevent it from applying to the location of your test script. &#13; Finally, the default location of the Apache configuration files changed between Apache 1.2 and Apache 1.3. You should check to make sure that the configuration file you are adding the AddType line to is actually being read. You can put an obvious syntax error into your httpd.conf file or some other obvious change that will tell you if the file is being read correctly. 11. It says to use: --activate-module=src/modules/php4/libphp4.a , but that file doesn't exist, so I changed it to --activate-module=src/modules/php4/libmodphp4.a and it doesn't work!? What's going on? Note that the libphp4.a file is not supposed to exist. The apache process will create it! 12. When I try to build Apache with PHP as a static module using --activate-module=src/modules/php4/libphp4.a it tells me that my compiler is not ANSI compliant. This is a misleading error message from Apache that has been fixed in more recent versions. 13. When I try to build PHP using --with-apxs I get strange error messages. There are three things to check here. First, for some reason when Apache builds the apxs Perl script, it sometimes ends up getting built without the proper compiler and flags variables. Find your apxs script (try the command which apxs ), it's sometimes found in /usr/local/apache/bin/apxs or /usr/sbin/apxs . Open it and check for lines similar to these: my $ CFG_CFLAGS_SHLIB = ' '; # substituted via Makefile.tmpl my $ CFG_LD_SHLIB = ' '; # substituted via Makefile.tmpl my $ CFG_LDFLAGS_SHLIB = ' '; # substituted via Makefile.tmpl If this is what you see, you have found your problem. They may contain just spaces or other incorrect values, such as 'q()'. Change these lines to say: my $ CFG_CFLAGS_SHLIB = '-fpic -DSHARED_MODULE'; # substituted via Makefile.tmpl my $ CFG_LD_SHLIB = 'gcc'; # substituted via Makefile.tmpl my $ CFG_LDFLAGS_SHLIB = q(-shared); # substituted via Makefile.tmpl The second possible problem should only be an issue on Red Hat 6.1 and 6.2. The apxs script Red Hat ships is broken. Look for this line: my $ CFG_LIBEXECDIR = 'modules'; # substituted via APACI install If you see the above line, change it to this: my $ CFG_LIBEXECDIR = '/usr/lib/apache'; # substituted via APACI install Last, if you reconfigure/reinstall Apache, add a make clean to the process after ./configure and before make . 14. During make , I get errors in microtime, and a lot of RUSAGE_ stuff. During the make portion of installation, if you encounter problems that look similar to this: microtime.c: In function `php_if_getrusage': microtime.c:94: storage size of `usg' isn't known microtime.c:97: `RUSAGE_SELF' undeclared (first use in this function) microtime.c:97: (Each undeclared identifier is reported only once microtime.c:97: for each function it appears in.) microtime.c:103: `RUSAGE_CHILDREN' undeclared (first use in this function) make[3]: *** [microtime.lo] Error 1 make[3]: Leaving directory `/home/master/php-4.0.1/ext/standard' make[2]: *** [all-recursive] Error 1 make[2]: Leaving directory `/home/master/php-4.0.1/ext/standard' make[1]: *** [all-recursive] Error 1 make[1]: Leaving directory `/home/master/php-4.0.1/ext' make: *** [all-recursive] Error 1 &#13; Your system is broken. You need to fix your /usr/include files by installing a glibc-devel package that matches your glibc. This has absolutely nothing to do with PHP. To prove this to yourself, try this simple test: $ cat &#62;test.c &#60;&#60;X #include &#60;sys/resource.h&#62; X $ gcc -E test.c &#62;/dev/null If that spews out errors, you know your include files are messed up. 15. When compiling PHP with MySQL, configure runs fine but during make I get an error similar to the following: ext/mysql/libmysql/my_tempnam.o(.text+0x46): In function my_tempnam': /php4/ext/mysql/libmysql/my_tempnam.c:103: the use of tempnam' is dangerous, better use mkstemp' , what's wrong? First, it's important to realize that this is a &#13; Warning and not a fatal error. Because this is often the last output seen during make , it may seem like a fatal error but it's not. Of course, if you set your compiler to die on Warnings, it will. Also keep in mind that MySQL support is enabled by default. Note: As of PHP 4.3.2, you'll also see the following text after the build (make) completes: &#13; Build complete. (It is safe to ignore warnings about tempnam and tmpnam). 16. I want to upgrade my PHP. Where can I find the ./configure line that was used to build my current PHP installation? Either you look at config.nice file, in the source tree of your current PHP installation or, if this is not available, you simply run a &lt;?php phpinfo (); ?&gt; script. On top of the output the ./configure line, that was used to build this PHP installation is shown. 17. When building PHP with the GD library it either gives strange compile errors or segfaults on execution. Make sure your GD library and PHP are linked against the same depending libraries (e.g. libpng). 18. When compiling PHP I seemingly get random errors, like it hangs. I'm using Solaris if that matters. Using non-GNU utilities while compiling PHP may cause problems. Be sure to use GNU tools in order to be certain that compiling PHP will work. For example, on Solaris, using either the SunOS BSD-compatible or Solaris versions of sed will not work, but using the GNU or Sun POSIX (xpg4) versions of sed will work. Links: GNU sed , GNU flex , and GNU bison . add a note User Contributed Notes Build Problems tim at digicol dot de 24-Oct-2003 09:25 It seems to be very important to use the right version of bison - versions 1.28 and 1.875 should be OK, 1.75 (as delivered with SuSE Linux 8.2, for example) will not work (maybe depending on your configure options). See: http://bugs.php.net/bug.php?id=25952 danielm at NOSPAM dot bluetiger dot net 09-Jul-2003 04:58 Recode may cause crashes (on loading PHP) when used with MySQL and/or IMAP, and IMAP can't be used with YAZ. This is documented, but I only discovered it after recompiling PHP a zillion times and narrowing the problem down to recode. I hope that putting it here will save someone some time. rick at rockingstone dot nl 20-Jun-2003 11:01 I found that building php-4.3.2 fails when you have imap c-client installed. To fix: mv /usr/include/unix.h /usr/include/unix.h.bak &lt;do your php configure &amp; build&gt; mv /usr/include/unix.h.bak /usr/include/unix.h Be sure to rename the file *BEFORE* you configure, or the build will still try to include it. dale at botkin dot org 04-Nov-2002 08:20 If you have customized your Apache to lie about its version number, you may need to edit configure to skip the version number check. Just /APACHE_VERSION in configure to find the instance(s) where configure checks to make sure you have the right combination of --with-apxs or --with_apxs2 and Apache 1.3 or 2.0. Assuming you're smart enough to remember which version of Apache you have, you can just delete or comment out the version check and continue to march. jimsteele at nospam dot com 14-Oct-2001 07:43 Defining the right environment variables for my Apache "make" invocation allowed the correct "apxs" file to be generated for me. Your mileage may vary. cd ../apache_1.3.22 CFLAGS_SHLIB="-fpic -DSHARED_MODULE" \ LD_SHLIB=gcc \ LDFLAGS_MOD_SHLIB="-shared" \ make add a note Installation Using PHP Last updated: Thu, 08 Jan 2004 show source | credits | sitemap | contact | mirror sites Copyright &copy; 2001-2004 The PHP Group All rights reserved. This mirror generously provided by: @GLOBE GmbH Last updated: Mon Jan 26 00:20:46 2004 CET 
	</PLAINTEXT>
	<CONTENT>
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
 <title>PHP: Build Problems - Manual</title>
 <link rel="stylesheet" href="/style.css" />
 <link rel="stylesheet" href="/styles/mirror.css" />
 <link rel="shortcut icon" href="/favicon.ico" />
 <script language="Javascript" type="text/javascript" src="/userprefs.js"></script>
 <base href="http://de.php.net/manual/en/faq.build.php" /></head>
<body bgcolor="#ffffff" text="#000000"
      link="#000099" alink="#0000ff" vlink="#000099"
      onload="runOnLoad();">

<!--UdmComment-->
<table border="0" cellspacing="0" cellpadding="0" width="100%">
 <tr bgcolor="#9999cc">
  <td align="center" rowspan="2" width="126"><a href="/"><img src="/images/php.gif" alt="PHP" width="120" height="67" hspace="3" /></a></td>
  <td>&nbsp;</td>
 </tr>
 <tr bgcolor="#9999cc">
  <td align="right" valign="bottom">
<a href="/downloads.php" class="small">downloads</a> | <a href="/docs.php" class="small">documentation</a> | <a href="/FAQ.php" class="small">faq</a> | <a href="/support.php" class="small">getting help</a> | <a href="/mailing-lists.php" class="small">mailing lists</a> | <a href="http://bugs.php.net/" class="small">reporting bugs</a> | <a href="/sites.php" class="small">php.net sites</a> | <a href="/links.php" class="small">links</a> | <a href="/my.php" class="small">my php.net</a>&nbsp;
  </td>
 </tr>
 <tr bgcolor="#333366"><td colspan="2"><img src="/images/spacer.gif" width="1" height="1" border="0" alt="" /></td></tr>
 <tr bgcolor="#666699">
   <td align="right" valign="top" colspan="2" class="quicksearch">
    <form method="post" action="/search.php" class="thin" name="topsearch">
<input type="hidden" name="lang" value="en" /><small><span title="Keyboard shortcut: Alt+S (Win), Ctrl+S (Apple)"><u>s</u>earch for</span></small>
<input class="small" type="text" name="pattern" value="" size="30" accesskey="s" />
<small>in the</small>
<select name="show" class="small">
<option value="quickref" selected="selected">function list</option>
<option value="wholesite">whole site</option>
<option value="manual">online documentation [en]</option>
<option value="bugdb">bug database</option>
<option value="maillist">general mailing list</option>
<option value="devlist">developer mailing list</option>
<option value="phpdoc">documentation mailing list </option>
</select>
<input type="image" src="/images/small_submit_white.gif" alt="search" align="bottom" />&nbsp;
</form>
   </td>
 </tr>
 <tr bgcolor="#333366"><td colspan="3"><img src="/images/spacer.gif" width="1" height="1" border="0" alt="" /></td></tr> 
</table>
<!--/UdmComment-->


<table border="0" cellpadding="0" cellspacing="0">
 <tr valign="top">
  <td width="200" bgcolor="#f0f0f0">
   <table width="100%" cellpadding="2" cellspacing="0" border="0">
    <tr valign="top"><td class="sidebar"><!--UdmComment-->
<ul id="manualtoc">
 <li class="header home"><a href="index.php">PHP Manual</a></li>
 <li class="header up"><a href="faq.php">FAQ</a></li>
 <li><a href="faq.general.php">General Information</a></li>
 <li><a href="faq.mailinglist.php">Mailing lists</a></li>
 <li><a href="faq.obtaining.php">Obtaining PHP</a></li>
 <li><a href="faq.databases.php">Database issues</a></li>
 <li><a href="faq.installation.php">Installation</a></li>
 <li class="active"><a href="faq.build.php">Build Problems</a></li>
 <li><a href="faq.using.php">Using PHP</a></li>
 <li><a href="faq.html.php">PHP and HTML</a></li>
 <li><a href="faq.com.php">PHP and COM</a></li>
 <li><a href="faq.languages.php">PHP and other languages</a></li>
 <li><a href="faq.migration.php">Migrating from PHP 2 to PHP 3</a></li>
 <li><a href="faq.migration4.php">Migrating from PHP 3 to PHP 4</a></li>
 <li><a href="faq.misc.php">Miscellaneous Questions</a></li>
</ul><!--/UdmComment-->
</td></tr>
   </table>
  </td>
  <td bgcolor="#cccccc" background="/images/checkerboard.gif" width="1"><img src="/images/spacer.gif" width="1" height="1" border="0" alt="" /></td>
  <td>
   <table cellpadding="10" cellspacing="0" width="100%">
    <tr><td valign="top">
<!--UdmComment-->
<table border="0" width="100%" bgcolor="#e0e0e0" cellpadding="0" cellspacing="4"><tr><td><a href="faq.installation.php"><img src="/images/caret-l.gif" alt="&lt;" width="11" height="7" />Installation</a></td><td align="right"><a href="faq.using.php">Using PHP<img src="/images/caret-r.gif" alt="&gt;" width="11" height="7" /></a></td></tr><tr bgcolor="#cccccc"><td colspan="2"><img src="/images/spacer.gif" width="1" height="1" border="0" alt="" /></td></tr><tr><td><form action="/manual/change.php" method="GET" class="thin">
<small>view the </small><select name="page" class="small">
<option value="en/print/faq.build.php">printer friendly</option>
<option value="en/printwn/faq.build.php">printer friendly [+notes]</option>
<option value="pt_BR/faq.build.php">Brazilian Portuguese</option>
<option value="zh/faq.build.php">Chinese (Simplified)</option>
<option value="hk/faq.build.php">Chinese (Hong Kong Cantonese)</option>
<option value="tw/faq.build.php">Chinese (Traditional)</option>
<option value="cs/faq.build.php">Czech</option>
<option value="nl/faq.build.php">Dutch</option>
<option value="fi/faq.build.php">Finnish</option>
<option value="fr/faq.build.php">French</option>
<option value="de/faq.build.php">German</option>
<option value="el/faq.build.php">Greek</option>
<option value="he/faq.build.php">Hebrew</option>
<option value="hu/faq.build.php">Hungarian</option>
<option value="it/faq.build.php">Italian</option>
<option value="ja/faq.build.php">Japanese</option>
<option value="kr/faq.build.php">Korean</option>
<option value="pl/faq.build.php">Polish</option>
<option value="ro/faq.build.php">Romanian</option>
<option value="ru/faq.build.php">Russian</option>
<option value="sk/faq.build.php">Slovak</option>
<option value="sl/faq.build.php">Slovenian</option>
<option value="es/faq.build.php">Spanish</option>
<option value="sv/faq.build.php">Swedish</option>
<option value="tr/faq.build.php">Turkish</option>
</select><input type="image" src="/images/small_submit.gif" border="0" width="11" height="11" alt="" align="baseline"> <small>version of this page</small></form></td><td align="right" valign="bottom"><small>Last updated: Thu, 08 Jan 2004</small></td></tr></table>
<!--/UdmComment-->
<DIV
CLASS="chapter"
><H1
><A
NAME="faq.build"
></A
>Chapter 49. Build Problems</H1
><P
>&#13;    This section gathers most common errors that occur at 
    build time.
   </P
><DIV
CLASS="qandaset"
><DL
><DT
>1. <A
HREF="faq.build.php#faq.build.configure"
>&#13;      I got the latest version of PHP using the anonymous CVS service, 
      but there's no configure script!
     </A
></DT
><DT
>2. <A
HREF="faq.build.php#faq.build.configuring"
>&#13;      I'm having problems configuring PHP to work with Apache. 
      It says it can't find <TT
CLASS="filename"
>httpd.h</TT
>, but it's right where I said it is!
     </A
></DT
><DT
>3. <A
HREF="faq.build.php#faq.build.lex"
>&#13;      While configuring PHP (<TT
CLASS="literal"
>./configure</TT
>), you come across
      an error similar to the following:
     </A
></DT
><DT
>4. <A
HREF="faq.build.php#faq.build.apache-sharedcore"
>&#13;      When I try to start Apache, I get the following message:
     </A
></DT
><DT
>5. <A
HREF="faq.build.php#faq.build.not-found"
>&#13;      When I run configure, it says that it can't find the 
      include files or library for GD, gdbm, or some other package!
     </A
></DT
><DT
>6. <A
HREF="faq.build.php#faq.build.yytname"
>&#13;      When it is compiling the file <TT
CLASS="filename"
>language-parser.tab.c</TT
>, it gives me errors 
      that say <TT
CLASS="literal"
>yytname undeclared</TT
>.
     </A
></DT
><DT
>7. <A
HREF="faq.build.php#faq.build.link"
>&#13;      When I run <B
CLASS="command"
>make</B
>, it seems to run fine but then fails when it tries 
      to link the final application complaining that it can't find some files.
     </A
></DT
><DT
>8. <A
HREF="faq.build.php#faq.build.undefined"
>&#13;      When linking PHP, it complains about a number of undefined references.
     </A
></DT
><DT
>9. <A
HREF="faq.build.php#faq.build.Apache"
>&#13;      I can't figure out how to build PHP with Apache 1.3.
     </A
></DT
><DT
>10. <A
HREF="faq.build.php#faq.build.not-running"
>&#13;      I have followed all the steps to install the Apache module version on 
      Unix, and my PHP scripts show up in my browser or I am being asked to 
      save the file.
     </A
></DT
><DT
>11. <A
HREF="faq.build.php#faq.build.activate-module"
>&#13;      It says to use: <TT
CLASS="literal"
>--activate-module=src/modules/php4/libphp4.a</TT
>, 
      but  that file doesn't exist, so I changed it to 
      <TT
CLASS="literal"
>--activate-module=src/modules/php4/libmodphp4.a</TT
> and it 
      doesn't work!? What's going on?
     </A
></DT
><DT
>12. <A
HREF="faq.build.php#faq.build.ansi"
>&#13;      When I try to build Apache with PHP as a static module using 
      <TT
CLASS="literal"
>--activate-module=src/modules/php4/libphp4.a</TT
> 
      it tells me that my compiler is not ANSI compliant.
     </A
></DT
><DT
>13. <A
HREF="faq.build.php#faq.build.apxs"
>&#13;      When I try to build PHP using <TT
CLASS="literal"
>--with-apxs</TT
>
      I get strange error messages.
     </A
></DT
><DT
>14. <A
HREF="faq.build.php#faq.build.microtime"
>&#13;      During <B
CLASS="command"
>make</B
>, I get errors in microtime, 
      and a lot of <TT
CLASS="literal"
>RUSAGE_</TT
> stuff.
    </A
></DT
><DT
>15. <A
HREF="faq.build.php#faq.build.mysql.tempnam"
>&#13;      When compiling PHP with MySQL, configure runs fine but during
      <TT
CLASS="literal"
>make</TT
> I get an error similar to the following:
      <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>ext/mysql/libmysql/my_tempnam.o(.text+0x46): In function 
      my_tempnam': /php4/ext/mysql/libmysql/my_tempnam.c:103: the 
      use of tempnam' is dangerous, better use mkstemp'</I
></SPAN
>, 
      what's wrong?
     </A
></DT
><DT
>16. <A
HREF="faq.build.php#faq.build.upgrade"
>&#13;      I want to upgrade my PHP. Where can I find the <B
CLASS="command"
>./configure</B
>
      line that was used to build my current PHP installation?
     </A
></DT
><DT
>17. <A
HREF="faq.build.php#faq.build.gdlibs"
>&#13;      When building PHP with the GD library it either gives strange compile errors
      or segfaults on execution.
     </A
></DT
><DT
>18. <A
HREF="faq.build.php#faq.installation.needgnu"
>&#13;      When compiling PHP I seemingly get random errors, like it hangs.
      I'm using Solaris if that matters.
     </A
></DT
></DL
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.configure"
></A
><B
>1. </B
>
      I got the latest version of PHP using the anonymous CVS service, 
      but there's no configure script!
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      You have to have the GNU autoconf package installed so you can
      generate the configure script from <TT
CLASS="filename"
>configure.in</TT
>. Just run
      <B
CLASS="command"
>./buildconf</B
> in the top-level directory after getting
      the sources from the CVS server. (Also, unless you run configure
      with the <TT
CLASS="literal"
>--enable-maintainer-mode</TT
> option, the
      configure script will not automatically get rebuilt when the
      <TT
CLASS="filename"
>configure.in</TT
> file is updated, so you should make sure to do that
      manually when you notice configure.in has changed. One symptom
      of this is finding things like @VARIABLE@ in your Makefile after
      configure or <TT
CLASS="filename"
>config.status</TT
> is run.)
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.configuring"
></A
><B
>2. </B
>
      I'm having problems configuring PHP to work with Apache. 
      It says it can't find <TT
CLASS="filename"
>httpd.h</TT
>, but it's right where I said it is!
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      You need to tell the configure/setup script the location of the
      top-level of your Apache source tree. This means that
      you want to specify <TT
CLASS="literal"
>--with-apache=/path/to/apache</TT
>
      and <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>not</I
></SPAN
> <TT
CLASS="literal"
>--with-apache=/path/to/apache/src</TT
>.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.lex"
></A
><B
>3. </B
>
      While configuring PHP (<TT
CLASS="literal"
>./configure</TT
>), you come across
      an error similar to the following:
     </P
><P
>&#13;      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="screen"
>checking lex output file root... ./configure: lex: command not found
       configure: error: cannot find output from lex; giving up</PRE
></TD
></TR
></TABLE
>
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Be sure to read the <A
HREF="install.unix.php"
>installation</A
>
      instructions carefully and note that you need both flex and bison
      installed to compile PHP.  Depending on your setup you will install 
      bison and flex from either source or a package, such as a RPM.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.apache-sharedcore"
></A
><B
>4. </B
>
      When I try to start Apache, I get the following message:
     </P
><P
>&#13;      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="screen"
>fatal: relocation error: file /path/to/libphp4.so:
       symbol ap_block_alarms: referenced symbol not found</PRE
></TD
></TR
></TABLE
>
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      This error usually comes up when one compiles the Apache
      core program as a DSO library for shared usage.  Try to
      reconfigure apache, making sure to use at least the
      following flags:
     </P
><P
>&#13;      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="screen"
>--enable-shared=max --enable-rule=SHARED_CORE</PRE
></TD
></TR
></TABLE
>
     </P
><P
>&#13;      For more information, read the top-level Apache
      <TT
CLASS="filename"
>INSTALL</TT
> file or the Apache
      <A
HREF="http://httpd.apache.org/docs/dso.html"
TARGET="_top"
>DSO manual page</A
>.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.not-found"
></A
><B
>5. </B
>
      When I run configure, it says that it can't find the 
      include files or library for GD, gdbm, or some other package!
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      You can make the configure script looks for header files and libraries
      in non-standard locations by specifying additional flags to pass to
      the C preprocessor and linker, such as:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>CPPFLAGS=-I/path/to/include LDFLAGS=-L/path/to/library ./configure</PRE
></TD
></TR
></TABLE
>
      If you're using a csh-variant for your login shell (why?), it would be:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>env CPPFLAGS=-I/path/to/include LDFLAGS=-L/path/to/library ./configure</PRE
></TD
></TR
></TABLE
>
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.yytname"
></A
><B
>6. </B
>
      When it is compiling the file <TT
CLASS="filename"
>language-parser.tab.c</TT
>, it gives me errors 
      that say <TT
CLASS="literal"
>yytname undeclared</TT
>.
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      You need to update your version of Bison. You can find the latest version
      at <A
HREF="http://www.gnu.org/software/bison/bison.html"
TARGET="_top"
>http://www.gnu.org/software/bison/bison.html</A
>.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.link"
></A
><B
>7. </B
>
      When I run <B
CLASS="command"
>make</B
>, it seems to run fine but then fails when it tries 
      to link the final application complaining that it can't find some files.
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Some old versions of make that don't correctly put the compiled
      versions of the files in the functions directory into that same
      directory. Try running <B
CLASS="command"
>cp *.o functions</B
> and then
      re-running <B
CLASS="command"
>make</B
> to see if that helps. If it does, you should really
      upgrade to a recent version of GNU make.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.undefined"
></A
><B
>8. </B
>
      When linking PHP, it complains about a number of undefined references.
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Take a look at the link line and make sure that all of the appropriate  
      libraries are being included at the end. Common ones that you might have
      missed are '-ldl' and any libraries required for any database support
      you included.
     </P
><P
>&#13;      If you're linking with Apache 1.2.x, did you remember to add the
      appropriate information to the EXTRA_LIBS line of the Configuration
      file and re-rerun Apache's Configure script? See the 
      <A
HREF="http://cvs.php.net/co.php/php-src/INSTALL"
TARGET="_top"
>INSTALL</A
> file that
      comes with the distribution for more information.
     </P
><P
>&#13;      Some people have also reported that they had to add '-ldl' immediately
      following <TT
CLASS="filename"
>libphp4.a</TT
> when linking with Apache.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.Apache"
></A
><B
>9. </B
>
      I can't figure out how to build PHP with Apache 1.3.
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      This is actually quite easy.  Follow these steps carefully:
      <P
></P
><UL
><LI
><P
>&#13;         Grab the latest Apache 1.3 distribution from 
         <A
HREF="http://www.apache.org/dist/httpd/"
TARGET="_top"
>http://www.apache.org/dist/httpd/</A
>.
        </P
></LI
><LI
><P
>&#13;         Ungzip and untar it somewhere, for example 
         <TT
CLASS="filename"
>/usr/local/src/apache-1.3</TT
>.
        </P
></LI
><LI
><P
>&#13;         Compile PHP by first running 
         <B
CLASS="command"
>./configure --with-apache=/&#60;path&#62;/apache-1.3</B
>
         (substitute &#60;path&#62; for the actual path to your apache-1.3 directory.
        </P
></LI
><LI
><P
>&#13;         Type <B
CLASS="command"
>make</B
> followed by <B
CLASS="command"
>make install</B
>
         to build PHP and copy the necessary files to the Apache distribution tree.
        </P
></LI
><LI
><P
>&#13;         Change directories into to your <TT
CLASS="filename"
>/&#60;path&#62;/apache-1.3/src</TT
>
         directory and edit the <TT
CLASS="filename"
>Configuration</TT
> file. 
         Add to the file: 
         <TT
CLASS="literal"
>AddModule modules/php4/libphp4.a</TT
>.
        </P
></LI
><LI
><P
>&#13;         Type: <B
CLASS="command"
>./configure</B
> followed by <TT
CLASS="literal"
>make</TT
>.
        </P
></LI
><LI
><P
>&#13;         You should now have a PHP-enabled httpd binary!
        </P
></LI
></UL
>
     </P
><P
>&#13;      <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Note:</I
></SPAN
> You can also use the new Apache 
      <TT
CLASS="literal"
>./configure</TT
> script. See the instructions in 
      the <TT
CLASS="literal"
>README.configure</TT
> file which is part of 
      your Apache distribution.  Also have a look at the <TT
CLASS="filename"
>INSTALL</TT
> 
      file in the PHP distribution.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.not-running"
></A
><B
>10. </B
>
      I have followed all the steps to install the Apache module version on 
      Unix, and my PHP scripts show up in my browser or I am being asked to 
      save the file.
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      This means that the PHP module is not getting invoked for some reason.
      Three things to check before asking for further help:
      <P
></P
><UL
><LI
><P
>&#13;         Make sure that the httpd binary you are running is the actual 
         new httpd binary you just built.  To do this, try running: 
         <TT
CLASS="literal"
>/path/to/binary/httpd -l</TT
>
        </P
><P
>&#13;         If you don't see <TT
CLASS="filename"
>mod_php4.c</TT
> listed then
         you are not running the right binary.  Find and install the
         correct binary.
        </P
></LI
><LI
><P
>&#13;         Make sure you have added the correct Mime Type to one of your 
         <TT
CLASS="literal"
>Apache .conf</TT
> files.  It should be: 
         <TT
CLASS="literal"
>AddType application/x-httpd-php3 .php3</TT
> (for PHP 3)
        </P
><P
>&#13;         or <TT
CLASS="literal"
>AddType application/x-httpd-php .php</TT
> (for PHP 4)
        </P
><P
> 
         Also make sure that this AddType line is not hidden away inside a
         &#60;Virtualhost&#62; or &#60;Directory&#62; block which would
         prevent it from applying to the location of your test script.
        </P
></LI
><LI
><P
>&#13;         Finally, the default location of the Apache configuration files 
         changed between Apache 1.2 and Apache 1.3.  You should check to 
         make sure that the configuration file you are adding the AddType 
         line to is actually being read. You can put an obvious syntax error
         into your <TT
CLASS="filename"
>httpd.conf</TT
> file or some other obvious change that will 
         tell you if the file is being read correctly.
        </P
></LI
></UL
>
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.activate-module"
></A
><B
>11. </B
>
      It says to use: <TT
CLASS="literal"
>--activate-module=src/modules/php4/libphp4.a</TT
>, 
      but  that file doesn't exist, so I changed it to 
      <TT
CLASS="literal"
>--activate-module=src/modules/php4/libmodphp4.a</TT
> and it 
      doesn't work!? What's going on?
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Note that the <TT
CLASS="filename"
>libphp4.a</TT
> file is not supposed to exist.  The
      apache process will create it!
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.ansi"
></A
><B
>12. </B
>
      When I try to build Apache with PHP as a static module using 
      <TT
CLASS="literal"
>--activate-module=src/modules/php4/libphp4.a</TT
> 
      it tells me that my compiler is not ANSI compliant.
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      This is a misleading error message from Apache that has been fixed
      in more recent versions.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.apxs"
></A
><B
>13. </B
>
      When I try to build PHP using <TT
CLASS="literal"
>--with-apxs</TT
>
      I get strange error messages.
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      There are three things to check here.  First, for some reason
      when Apache builds the apxs Perl script, it sometimes ends up
      getting built without the proper compiler and flags variables.
      Find your apxs script (try the command <B
CLASS="command"
>which apxs</B
>), 
      it's sometimes found in <TT
CLASS="filename"
>/usr/local/apache/bin/apxs</TT
>
      or <TT
CLASS="filename"
>/usr/sbin/apxs</TT
>.
      Open it and check for lines similar to these:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>my $CFG_CFLAGS_SHLIB  = ' ';          # substituted via Makefile.tmpl
my $CFG_LD_SHLIB      = ' ';          # substituted via Makefile.tmpl
my $CFG_LDFLAGS_SHLIB = ' ';          # substituted via Makefile.tmpl</PRE
></TD
></TR
></TABLE
>
      If this is what you see, you have found your problem.  They may 
      contain just spaces or other incorrect values, such as 'q()'.  Change 
      these lines to say:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>my $CFG_CFLAGS_SHLIB  = '-fpic -DSHARED_MODULE'; # substituted via Makefile.tmpl
my $CFG_LD_SHLIB      = 'gcc';                   # substituted via Makefile.tmpl
my $CFG_LDFLAGS_SHLIB = q(-shared);              # substituted via Makefile.tmpl</PRE
></TD
></TR
></TABLE
>
      The second possible problem should only be an issue on Red Hat 6.1
      and 6.2.  The apxs script Red Hat ships is broken.  Look for this line:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>my $CFG_LIBEXECDIR    = 'modules';         # substituted via APACI install</PRE
></TD
></TR
></TABLE
>
      If you see the above line, change it to this:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>my $CFG_LIBEXECDIR    = '/usr/lib/apache'; # substituted via APACI install</PRE
></TD
></TR
></TABLE
>
       Last, if you reconfigure/reinstall Apache, add a <B
CLASS="command"
>make clean</B
> 
       to the process after <B
CLASS="command"
>./configure</B
> and before <B
CLASS="command"
>make</B
>.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.microtime"
></A
><B
>14. </B
>
      During <B
CLASS="command"
>make</B
>, I get errors in microtime, 
      and a lot of <TT
CLASS="literal"
>RUSAGE_</TT
> stuff.
    </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      During the <B
CLASS="command"
>make</B
> portion of installation, 
      if you encounter problems that look similar to this:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>microtime.c: In function `php_if_getrusage':
microtime.c:94: storage size of `usg' isn't known
microtime.c:97: `RUSAGE_SELF' undeclared (first use in this function)
microtime.c:97: (Each undeclared identifier is reported only once
microtime.c:97: for each function it appears in.)
microtime.c:103: `RUSAGE_CHILDREN' undeclared (first use in this function)
make[3]: *** [microtime.lo] Error 1
make[3]: Leaving directory `/home/master/php-4.0.1/ext/standard'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/home/master/php-4.0.1/ext/standard'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/home/master/php-4.0.1/ext'
make: *** [all-recursive] Error 1</PRE
></TD
></TR
></TABLE
>
     </P
><P
>&#13;      Your system is broken.  You need to fix your <TT
CLASS="filename"
>/usr/include</TT
> files by
      installing a glibc-devel package that matches your glibc.  This has
      absolutely nothing to do with PHP.  To prove this to yourself, try this
      simple test:
     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>$ cat &#62;test.c &#60;&#60;X
#include &#60;sys/resource.h&#62;
X
$ gcc -E test.c &#62;/dev/null</PRE
></TD
></TR
></TABLE
>
      If that spews out errors, you know your include files are messed up. 
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.mysql.tempnam"
></A
><B
>15. </B
>
      When compiling PHP with MySQL, configure runs fine but during
      <TT
CLASS="literal"
>make</TT
> I get an error similar to the following:
      <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>ext/mysql/libmysql/my_tempnam.o(.text+0x46): In function 
      my_tempnam': /php4/ext/mysql/libmysql/my_tempnam.c:103: the 
      use of tempnam' is dangerous, better use mkstemp'</I
></SPAN
>, 
      what's wrong?
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      First, it's important to realize that this is a <TT
CLASS="literal"
>&#13;      Warning</TT
> and not a fatal error.  Because this is
      often the last output seen during <TT
CLASS="literal"
>make</TT
>,
      it may seem like a fatal error but it's not.  Of course, if
      you set your compiler to die on Warnings, it will.  Also
      keep in mind that MySQL support is enabled by default.
     </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Note: </B
>
       As of PHP 4.3.2, you'll also see the following text after
       the build (make) completes:
      </P
><P
>&#13;       <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="screen"
>Build complete.
        (It is safe to ignore warnings about tempnam and tmpnam).</PRE
></TD
></TR
></TABLE
>
      </P
></BLOCKQUOTE
></DIV
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.upgrade"
></A
><B
>16. </B
>
      I want to upgrade my PHP. Where can I find the <B
CLASS="command"
>./configure</B
>
      line that was used to build my current PHP installation?
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Either you look at config.nice file, in the source tree of your current PHP
      installation or, if this is not available, you simply run a 
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
>
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php phpinfo</span><span class="keyword">(); </span><span class="default">?&gt;</span>
</span>
</code></div></TD
></TR
></TABLE
>
      script. On top of the output the <B
CLASS="command"
>./configure</B
> line, that was used
      to build this PHP installation is shown.
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.build.gdlibs"
></A
><B
>17. </B
>
      When building PHP with the GD library it either gives strange compile errors
      or segfaults on execution.
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Make sure your GD library and PHP are linked against the same depending
      libraries (e.g. libpng).
     </P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><B
><DIV
CLASS="question"
><P
><A
NAME="faq.installation.needgnu"
></A
><B
>18. </B
>
      When compiling PHP I seemingly get random errors, like it hangs.
      I'm using Solaris if that matters.
     </P
></DIV
></B
><DIV
CLASS="answer"
><P
><B
> </B
>
      Using non-GNU utilities while compiling PHP may cause problems.  Be
      sure to use GNU tools in order to be certain that compiling PHP will
      work.  For example, on Solaris, using either the SunOS BSD-compatible
      or Solaris versions of <TT
CLASS="literal"
>sed</TT
> will not work, but using
      the GNU or Sun POSIX (xpg4) versions of <TT
CLASS="literal"
>sed</TT
> will
      work.  Links: <A
HREF="http://www.gnu.org/software/sed/sed.html"
TARGET="_top"
>GNU sed</A
>,
      <A
HREF="http://www.gnu.org/software/flex/flex.html"
TARGET="_top"
>GNU flex</A
>, and
      <A
HREF="http://www.gnu.org/software/bison/bison.html"
TARGET="_top"
>GNU bison</A
>.
     </P
></DIV
></DIV
></DIV
></DIV
><br /><br />
<div id="usernotes">
 <div class="head">
  <span class="action"><a href="/manual/add-note.php?sect=faq.build&amp;redirect=http://de.php.net/manual/en/faq.build.php"><img src="/images/notes-add.gif" alt="add a note" width="13" height="13" align="middle" /></a> <small><a href="/manual/add-note.php?sect=faq.build&amp;redirect=http://de.php.net/manual/en/faq.build.php">add a note</a></small></span>
  <small>User Contributed Notes</small><br />
  <strong>Build Problems</strong>
 </div>
 <a name="36836"></a>
 <div class="note">
  <strong>tim at digicol dot de</strong><br />
  24-Oct-2003 09:25
  <div class="text">
<div class="phpcode"><code><span class="html">
It seems to be very important to use the right version of bison - versions 1.28 and 1.875 should be OK, 1.75 (as delivered with SuSE Linux 8.2, for example) will not work (maybe depending on your configure options).<br />
<br />
See: <a href="http://bugs.php.net/bug.php?id=25952" target="_blank">http://bugs.php.net/bug.php?id=25952</a></span>
</code></div>
  </div>
 </div>
 <a name="33839"></a>
 <div class="note">
  <strong>danielm at NOSPAM dot bluetiger dot net</strong><br />
  09-Jul-2003 04:58
  <div class="text">
<div class="phpcode"><code><span class="html">
Recode may cause crashes (on loading PHP) when used with MySQL and/or IMAP, and IMAP can't be used with YAZ.<br />
<br />
This is documented, but I only discovered it after recompiling PHP a zillion times and narrowing the problem down to recode.&nbsp; I hope that putting it here will save someone some time.</span>
</code></div>
  </div>
 </div>
 <a name="33257"></a>
 <div class="note">
  <strong>rick at rockingstone dot nl</strong><br />
  20-Jun-2003 11:01
  <div class="text">
<div class="phpcode"><code><span class="html">
I found that building php-4.3.2 fails when you have imap c-client installed. To fix: <br />
<br />
mv /usr/include/unix.h /usr/include/unix.h.bak<br />
&lt;do your php configure &amp; build&gt;<br />
mv /usr/include/unix.h.bak /usr/include/unix.h<br />
<br />
Be sure to rename the file *BEFORE* you configure, or the build will still try to include it.</span>
</code></div>
  </div>
 </div>
 <a name="26553"></a>
 <div class="note">
  <strong>dale at botkin dot org</strong><br />
  04-Nov-2002 08:20
  <div class="text">
<div class="phpcode"><code><span class="html">
If you have customized your Apache to lie about its version number, you may need to edit configure to skip the version number check.&nbsp; Just /APACHE_VERSION in configure to find the instance(s) where configure checks to make sure you have the right combination of --with-apxs or --with_apxs2 and Apache 1.3 or 2.0.&nbsp; Assuming you're smart enough to remember which version of Apache you have, you can just delete or comment out the version check and continue to march.</span>
</code></div>
  </div>
 </div>
 <a name="16047"></a>
 <div class="note">
  <strong>jimsteele at nospam dot com</strong><br />
  14-Oct-2001 07:43
  <div class="text">
<div class="phpcode"><code><span class="html">
Defining the right environment variables for my Apache "make" invocation allowed the correct "apxs" file to be generated for me.&nbsp; Your mileage may vary.<br />
<br />
cd ../apache_1.3.22<br />
CFLAGS_SHLIB="-fpic -DSHARED_MODULE" \<br />
&nbsp; LD_SHLIB=gcc \<br />
&nbsp; LDFLAGS_MOD_SHLIB="-shared" \<br />
&nbsp; make</span>
</code></div>
  </div>
 </div>
 <div class="foot"><a href="/manual/add-note.php?sect=faq.build&amp;redirect=http://de.php.net/manual/en/faq.build.php"><img src="/images/notes-add.gif" alt="add a note" width="13" height="13" align="middle" /></a> <small><a href="/manual/add-note.php?sect=faq.build&amp;redirect=http://de.php.net/manual/en/faq.build.php">add a note</a></small></div>
</div><br /><!--UdmComment-->
<table border="0" width="100%" bgcolor="#e0e0e0" cellpadding="0" cellspacing="4"><tr><td><a href="faq.installation.php"><img src="/images/caret-l.gif" alt="&lt;" width="11" height="7" />Installation</a></td><td align="right"><a href="faq.using.php">Using PHP<img src="/images/caret-r.gif" alt="&gt;" width="11" height="7" /></a></td></tr><tr bgcolor="#cccccc"><td colspan="2"><img src="/images/spacer.gif" width="1" height="1" border="0" alt="" /></td></tr><tr><td><small>&nbsp;</small></td><td align="right" valign="bottom"><small>Last updated: Thu, 08 Jan 2004</small></td></tr></table>
<!--/UdmComment-->
</td></tr></table></td></tr></table>

<!--UdmComment-->
<table border="0" cellspacing="0" cellpadding="0" width="100%">
 <tr bgcolor="#333366"><td><img src="/images/spacer.gif" width="1" height="1" border="0" alt="" /></td></tr>
 <tr bgcolor="#9999cc">
  <td align="right" valign="bottom">
<a href="/source.php?url=/manual/en/faq.build.php" class="small">show source</a> | <a href="/credits.php" class="small">credits</a> | <a href="/sitemap.php" class="small">sitemap</a> | <a href="/copyright.php#contact" class="small">contact</a> | <a href="/mirrors.php" class="small">mirror sites</a>&nbsp;  </td>
 </tr>
 <tr bgcolor="#333366"><td><img src="/images/spacer.gif" width="1" height="1" border="0" alt="" /></td></tr>
</table>

<table border="0" cellspacing="0" cellpadding="6" width="100%">
 <tr valign="top" bgcolor="#cccccc">
  <td><small><a href="/copyright.php">Copyright &copy; 2001-2004 The PHP Group</a><br />All rights reserved.</small></td>
  <td align="right"><small>
   <a href="/mirror.php">This mirror</a> generously provided by:
   <a href="http://www.globe.de/">@GLOBE GmbH</a><br />
   Last updated: Mon Jan 26 00:20:46 2004 CET   </small>
  </td>
 </tr>
</table>
<!--/UdmComment-->
</body>
</html>

