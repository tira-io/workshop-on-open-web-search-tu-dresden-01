<!-- <DOCUMENT>
	<FILE>
		7644646173.html
	</FILE>
	<URL>
		http://www.informit.com/isapi/product_id~%7B86BE9192-12C9-45B6-9670-61B2CE43B0DC%7D/element_id~%7BCCF0D995-C97F-4B08-B0E5-0515E13040A7%7D/st~%7BBAC7BB78-22CD-4E1E-9387-19EEB5B71759%7D/content/articlex.asp
	</URL>
	<TITLE>
		Building a Linux Kernel at InformIT.com
	</TITLE>
	<GENRE>
		discussion
	</GENRE>
	<PLAINTEXT>
 Building a Linux Kernel at InformIT.com Our Publishing Partners: Addison-Wesley Cisco Press New Riders Peachpit Press Prentice Hall PTR Que Publishing Sams Publishing Log In View Cart All Products Book Store Online Books Articles Reference Guides Free Library Advanced | Help Home &gt; Articles &gt; Operating Systems &gt; Linux &gt; Save Discuss Print E-mail Building a Linux Kernel DEC 19, 2003 By Russ Hunter . 1 Introduction 2 Things You'll Need 3 Kernel Configuration 4 Building the Kernel 5 In Case of Emergency... 6 Conclusion If you like this article read this related book, Linux Kernel Development . Burn It and Boot It: "Live CD" Linux Security Scanning with Nessus more&#133; Installing Fedora Burn It and Boot It: "Live CD" Linux TOURCast: A Real-Time Golf Coverage Application on Linux more&#133; Red Hat Linux 9: Visual QuickPro Guide Red Hat Linux Fedora Unleashed Linux Shell Scripting with Bash more&#133; Managing Linux Systems with Webmin: System Administration and Module Development Real World Linux Security Multitool Linux: Practical Uses for Open Source Software more&#133; Advertise With Us Kernel Configuration Here&#039;s a summary of the steps: make mrproper . make xconfig (or make menuconfig ). Load the saved config file, if you have one. make dep . make bzImage . make modules . make modules_install . Copy arch/ architecture /boot/bzImage to /boot/bzImage. name . Configure the bootloader. The master configuration for your kernel is stored in /usr/src/ version /.config . This file is created by the config process you&#039;ll run, and it&#039;s a good idea to copy it somewhere else in case you need to build another kernel with minor changes later on. A number of configuration templates are provided with the kernel source; they&#039;re located in the configs directory. These templates can be used as a starting point for creating your own kernel. Before configuring your kernel, clean up your source directory: [root@heinz linux-2.4.20-8]# make mrproper The make mrproper command cleans up any leftover files from previous kernel builds in your source directory. NOTE It also wipes out any .config files in your source directory. Next, you need to name your kernel by editing the Makefile , located in your source directory. The first four lines of the Makefile define the kernel version: VERSION = 2 PATCHLEVEL = 4 SUBLEVEL = 20 EXTRAVERSION = -8 Just change the EXTRAVERSION entry to a unique identifier for the kernel you&#039;re building: EXTRAVERSION = -oct-03 This identifier will show up in your boot menu, and will also define a unique module directory for the kernel. Now you&#039;re ready to configure the kernel. There are a number of interface choices, and the README file provides a full list. The most important ones to know are menuconfig (text-based, as shown in Figure 2 ) and xconfig (X11-based, as shown in Figure 3 ). The xconfig interface is much easier to work with, and I wouldn&#039;t recommend using menuconfig unless your system lacks X11 support. Here&#039;s the syntax: [root@heinz linux-2.4.20-8]# make xconfig or [root@heinz linux-2.4.20-8]# make menuconfig Figure 2 The menuconfig interface. Figure 3 The xconfig interface. The configuration interface presents an exhaustive list of options. For each option, three choices are available: Yes. Support will be compiled directly into the kernel. Module. Support will be provided via a loadable kernel module. No. Support is not included. NOTE Loadable kernel modules offer a way for drivers to be loaded dynamically into the kernel. Loading drivers only if needed keeps the overall size of the kernel to a minimum. If you want to leave the door open for hardware upgrades in the future, include modules for anything you might be adding to the system. As you start to drill down into the individual categories, you may find the choices a bit overwhelming. The xconfig interface really helps out here, as there&#039;s a help option for almost every choice. Knowing the hardware in your system will simplify the process as well. After you&#039;ve made all your choices, click the Save button to store everything in the .config file (located in your source directory), and exit the configuration tool. If you&#039;re storing copies of your .config files in another location, don&#039;t forget to copy the new one over. Next Section 4. Building the Kernel How would you rate this article? 1 - Poor 2 3 - Average 4 5 - Good Comment Author Replies Posted nothing new my_all@postmaster.co.uk 5 DEC 22, 2003 02:44:08 AM Kernel buld How-To Larry 5 DEC 21, 2003 12:39:32 PM Read the source? Get real. barius 3 DEC 22, 2003 05:58:17 PM Over-general subject paulbowman 3 DEC 22, 2003 01:36:09 PM no root barius 1 DEC 22, 2003 05:46:28 PM See All Comments Make a New Comment Subject: Username: Message: About Us | Advertise On InformIT | Contact Us | Site Map | Book Registration &copy; 2004 Pearson Education, Inc. InformIT Division. All rights reserved. 800 East 96th Street Indianapolis, Indiana 46240 Legal Notice | Privacy Policy 
	</PLAINTEXT>
	<CONTENT>
-->
<html>
<head>
<META http-equiv="Content-Type" content="text/html">
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Building a Linux Kernel 
					at InformIT.com</title><script language="JavaScript" src="/includes/javascript/global.js"></script><link rel="stylesheet" href="/stylesheets/pc_ie.css" type="text/css">
<link rel="stylesheet" href="/stylesheets/pc_ie_content.css" type="text/css">
</head>
<body bgcolor="#FFFFFF" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0"><IMG src="http://usnews.vibrantmedia.com/system/SetURLCookie.asp?cbid=7245" border="0" width="0" height="0"><table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td bgcolor="#CCCCCC">
<table border="0" cellspacing="0" cellpadding="4">
<tr>
<td nowrap="true" class="networklink">Our Publishing Partners:</td>
<td nowrap="true" class="networklink"><a href="http://www.awprofessional.com/">Addison-Wesley</a></td>
<td nowrap="true" class="networklink"><a href="http://www.ciscopress.com/">Cisco Press</a></td>
<td nowrap="true" class="networklink"><a href="http://www.newriders.com/">New Riders</a></td>
<td nowrap="true" class="networklink"><a href="http://www.peachpit.com">Peachpit Press</a></td>
<td nowrap="true" class="networklink"><a href="http://www.phptr.com/">Prentice Hall PTR</a></td>
<td nowrap="true" class="networklink"><a href="http://www.quepublishing.com/">Que Publishing</a></td>
<td nowrap="true" class="networklink"><a href="http://www.samspublishing.com/">Sams Publishing</a></td>
</tr>
</table>
</td>
</tr>
</table>		<table width="100%" border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td bgcolor="#454B55" align="center" width="170"><img src="/images/basics/dot.gif" width="170" height="60" vspace="3"/></td>
				<td bgcolor="#454B55" align="center" width="99%"><SCRIPT language="JavaScript1.1" SRC="http://ad.doubleclick.net/adj/informit/Operating_Systems:Linux;abr=!webtv;sz=468x60;tile=1;ord=1075083242383?">
</SCRIPT> 
<SCRIPT> 
if ((!document.images && navigator.userAgent.indexOf('Mozilla/2.') >= 0)  || navigator.userAgent.indexOf("WebTV")>= 0) {
document.write('<A HREF="http://ad.doubleclick.net/jump/informit/Operating_Systems:Linux;sz=468x60;tile=1;ord=1075083242383?">');
document.write('<IMG SRC="http://ad.doubleclick.net/ad/informit/Operating_Systems:Linux;sz=468x60;tile=1;ord=1075083242383?" border="0" height="60" width="468"></A>') 
} 
</SCRIPT> 

<NOSCRIPT> 
<A HREF="http://ad.doubleclick.net/jump/informit/Operating_Systems:Linux;sz=468x60;tile=1;ord=1075083242383?" >
<IMG SRC="http://ad.doubleclick.net/ad/informit/Operating_Systems:Linux;sz=468x60;tile=1;ord=1075083242383?" border="0" height="60" width="468"></A>
</NOSCRIPT></td>
				<td bgcolor="#454B55" width="126"><img src="/images/basics/dot.gif" width="120" height="60" hspace="3" vspace="3"/></td>
			</tr>
		</table><table width="100%" border="0" cellspacing="0" cellpadding="0" bordercolor="#FFCC00">
<tr>
<td valign="top">
<table width="100%" border="0" cellspacing="0" cellpadding="0" bordercolor="#006600">
<tr>
<td width="170" bgcolor="#A3A8B1"><a href="/index.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}"><img src="/images/topnav/informit_170_glow.gif" border="0" width="170" height="51" vspace="5" alt="InformIT - Your Online Guide to Tech Reference"></a></td>
<td width="1" bgcolor="#A3A8B1"><img src="/images/basics/dot.gif" width="1" height="47"></td>
<td valign="bottom" width="90%" align="center" bgcolor="#A3A8B1">
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td></td>
<td nowrap="true" class="topnav">
<p><a href="/member/login.asp">Log In</a><a href="/buy.asp"><img src="/images/buttons/cart_color.gif" width="21" height="15" align="absmiddle" hspace="4" border="0" vspace="6" alt="Shopping Cart">View Cart</a></p>
</td>
<td align="right" nowrap="true">
<table border="0" cellspacing="0" cellpadding="0">
<tbody>
<form name="search" method="GET" action="/search/results.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}&amp;st={BAC7BB78-22CD-4E1E-9387-19EEB5B71759}" id="search">
<tr>
<td><img height="5" src="/images/basics/dot.gif" width="5"></td>
<td><input type="text" name="searchstring" class="searchtext" size="35" maxlength="200"></td>
<td><img height="5" src="/images/basics/dot.gif" width="5"></td>
<td><input type="hidden" name="searchtype" value="Full-Text"><SELECT class="formDropdown" name="searchgroup"><option value="Entire Site">All Products</option>
<option value="Books">Book Store</option>
<option value="Safari">Online Books</option>
<option value="Articles" selected="true">Articles</option>
<option value="ITREF">Reference Guides</option>
<option value="Free Library">Free Library</option></SELECT></td>
<td><img src="/images/basics/dot.gif" width="5" height="5"></td>
<td><input type="image" border="0" name="submit" src="/images/buttons/search_color.gif" width="45" height="15" hspace="4" vspace="6" alt="Search"></td>
<td><img src="/images/basics/dot.gif" width="5" height="5"></td>
<td class="topnav"><a href="/search/advanced_search.asp">Advanced</a> | 
						<a href="/search/help.asp">Help</a></td>
</tr>
</form>
</tbody>
</table>
</td>
<td></td>
</tr>
<tr>
<td colspan="4"><img src="/images/basics/dot.gif" width="1" height="1" vspace="3"></td>
</tr>
<tr>
<td><img src="/images/basics/dot.gif" width="1" height="1" hspace="4"></td>
<td valign="bottom" align="center" nowrap="true" colspan="2"><a href="/index.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}"><img src="/images/topnav/off/home_1030.gif" width="47" height="19" alt="Home" border="0" hspace="1"></a><a href="/articles/index.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}"><img src="/images/topnav/on/articles_1030.gif" width="62" height="19" hspace="1" alt="Articles" border="0"></a><a href="/book_store/index.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}"><img src="/images/topnav/off/book_store_1030.gif" width="81" height="19" hspace="1" alt="Book Store" border="0"></a><a href="http://safari.informit.com/"><img src="/images/topnav/off/safari_1030.gif" width="90" height="19" hspace="1" alt="Online Books" border="0"></a><a href="/examcram2/index.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}"><img src="/images/topnav/off/exam_cram2_1030.gif" width="92" height="19" hspace="1" alt="Exam Cram 2" border="0"></a><a href="/myinformit/index.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}"><img src="/images/topnav/off/myinformit_1030.gif" width="83" height="19" hspace="1" alt="MyInformIT" border="0"></a></td>
<td><img src="/images/basics/dot.gif" width="1" height="1" hspace="4"></td>
</tr>
</table>
</td>
</tr>
<tr>
<td colspan="3" valign="top" bgcolor="#000000"><img src="/images/basics/dot.gif" width="1" height="1"></td>
</tr>
<tr>
<td colspan="3" valign="top" bgcolor="#730C2B" class="crumb" width="99%"><img src="/images/basics/dot.gif" width="10" height="10"><a href="/isapi/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/index.asp">Home</a> &gt; <a href="/isapi/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/articles/index.asp">Articles</a> &gt; <a href="/isapi/n~{EEEFD29C-8B95-4E7D-AE02-8403466492DC}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/articles/index.asp">Operating Systems</a> &gt; <a href="/isapi/n~{ED0219AB-162F-400B-911E-7CDDF684E1FF}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/articles/index.asp">Linux</a> &gt; </td>
</tr>
<tr>
<td colspan="3" valign="top" bgcolor="#000000"><img src="/images/basics/dot.gif" width="1" height="1"></td>
</tr>
</table>
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td><?xml version="1.0"?><table width="100%" border="0" cellspacing="21" cellpadding="0"><tr><td valign="top" colspan="2"><table border="0" cellspacing="0" cellpadding="0" align="right"><tr><td nowrap="true" class="btb"><p><img src="/images/icons/disk.gif" width="20" height="20" align="absmiddle" /><a href="javaScript:popAdd('/isapi/product_id~{86BE9192-12C9-45B6-9670-61B2CE43B0DC}/element_id~{CCF0D995-C97F-4B08-B0E5-0515E13040A7}/st~{BAC7BB78-22CD-4E1E-9387-19EEB5B71759}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/member/addTo.asp')">Save</a></p></td><td nowrap="true" class="btb">&nbsp;</td><td nowrap="true" class="btb"><p><img src="/images/icons/people_three.gif" width="20" height="20" align="absmiddle" /><a href="/isapi/product_id~{86BE9192-12C9-45B6-9670-61B2CE43B0DC}/st~{BAC7BB78-22CD-4E1E-9387-19EEB5B71759}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/discussion/addPost.asp">Discuss</a></p></td></tr><tr><td nowrap="true" class="btb"><p><img src="/images/icons/print.gif" width="20" height="20" align="absmiddle" /><a href="/isapi/product_id~{86BE9192-12C9-45B6-9670-61B2CE43B0DC}/st~{BAC7BB78-22CD-4E1E-9387-19EEB5B71759}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/printerFriendly.asp">Print</a></p></td><td nowrap="true" class="btb">&nbsp;&nbsp;</td><td nowrap="true" class="btb"><p><img src="/images/icons/email.gif" width="20" height="20" align="absmiddle" /><a href="/isapi/product_id~{86BE9192-12C9-45B6-9670-61B2CE43B0DC}/st~{BAC7BB78-22CD-4E1E-9387-19EEB5B71759}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/mailToFriend.asp">E-mail</a></p></td></tr></table><p><span class="pgTitle">Building a Linux Kernel</span><br /><span class="pgByLine">DEC 19, 2003 By <a href="/isapi/authorid~{0CCDBB70-96D6-435B-93D0-44E2F9771A42}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/authors/author.asp">Russ Hunter</a>. </span></p></td></tr><tr><td valign="top" width="170"><table width="170" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><img src="/images/table_headers/contents.gif" width="170" height="15" alt="Contents" /></td></tr></table><table width="170" border="0" cellspacing="0" cellpadding="1"><tr><td bgcolor="#666666"><table width="168" border="0" cellspacing="0" cellpadding="3" bgcolor="#EEEEEE"><tr valign="top"><td width="6" class="btb" align="right">1</td><td class="btb"><a href="/isapi/product_id~{86BE9192-12C9-45B6-9670-61B2CE43B0DC}/element_id~{D6766652-4287-4E06-B035-3E2807B50EC1}/st~{BAC7BB78-22CD-4E1E-9387-19EEB5B71759}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/articlex.asp">Introduction</a></td></tr><tr valign="top"><td width="6" class="btb" align="right">2</td><td class="btb"><a href="/isapi/product_id~{86BE9192-12C9-45B6-9670-61B2CE43B0DC}/element_id~{19DB7620-B194-4410-B548-60D9EF66F6B7}/st~{BAC7BB78-22CD-4E1E-9387-19EEB5B71759}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/articlex.asp">Things You'll Need</a></td></tr><tr valign="top" bgcolor="#FFFFFF"><td width="6" class="btbActive" align="right">3</td><td class="btbActive">Kernel Configuration</td></tr><tr valign="top"><td width="6" class="btb" align="right">4</td><td class="btb"><a href="/isapi/product_id~{86BE9192-12C9-45B6-9670-61B2CE43B0DC}/element_id~{DBC0C5EC-8EDF-4E1A-A8B9-594BE0C85A2C}/st~{BAC7BB78-22CD-4E1E-9387-19EEB5B71759}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/articlex.asp">Building the Kernel</a></td></tr><tr valign="top"><td width="6" class="btb" align="right">5</td><td class="btb"><a href="/isapi/product_id~{86BE9192-12C9-45B6-9670-61B2CE43B0DC}/element_id~{40FF3834-6B8F-44CC-9C92-CD6C6DFDE8F8}/st~{BAC7BB78-22CD-4E1E-9387-19EEB5B71759}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/articlex.asp">In Case of Emergency...</a></td></tr><tr valign="top"><td width="6" class="btb" align="right">6</td><td class="btb"><a href="/isapi/product_id~{86BE9192-12C9-45B6-9670-61B2CE43B0DC}/element_id~{1B448EDF-78C6-46B9-92D8-D8C0726746F7}/st~{BAC7BB78-22CD-4E1E-9387-19EEB5B71759}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/articlex.asp">Conclusion</a></td></tr></table></td></tr></table><table width="170" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><img src="/images/table_headers/see_also.gif" width="170" height="14" alt="See Also" /></td></tr></table><table width="170" border="0" cellspacing="0" cellpadding="1"><tr><td bgcolor="#666666"><table width="168" border="0" cellspacing="0" cellpadding="3" bgcolor="#EEEEEE"><tr valign="top"><td width="6" class="btb" align="right"><table width="51" border="0" cellspacing="0" cellpadding="1"><tr><td bgcolor="#666666"><a href="/isapi/product_id~{AE8A1B17-EC0F-4D4F-B4D5-ED871A1D2E11}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/index.asp"><img width="51" height="63" border="0" src="/content/images/0672325128/0672325128d.jpg" /></a></td></tr></table></td><td class="btb"><p>If you like this article read this related book, <a href="/isapi/product_id~{AE8A1B17-EC0F-4D4F-B4D5-ED871A1D2E11}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/index.asp">Linux Kernel Development</a>.</p></td></tr></table></td></tr></table><table width="170" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><img src="/images/table_headers/also_by_author.gif" width="170" height="14" alt="Also By This Author" /></td></tr></table><table width="170" border="0" cellspacing="0" cellpadding="1"><tr><td bgcolor="#666666"><table width="168" border="0" cellspacing="0" cellpadding="3" bgcolor="#EEEEEE"><tr valign="top"><td class="btb"><a href="/isapi/product_id~{65B4BE0B-106D-4086-9B80-38810B74A874}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/index.asp">Burn It and Boot It: "Live CD" Linux</a></td></tr><tr valign="top"><td class="btb"><a href="/isapi/product_id~{E4E18C5A-9909-4FCB-A7E4-FBD9DD3D705A}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/index.asp">Security Scanning with Nessus</a></td></tr><tr valign="top"><td class="btb" align="right"><a href="/isapi/authorid~{0CCDBB70-96D6-435B-93D0-44E2F9771A42}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/authors/author.asp">more&#133;</a></td></tr></table></td></tr></table><table width="170" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><img src="/images/table_headers/related_articles.gif" width="170" height="14" alt="Related Articles" /></td></tr></table><table width="170" border="0" cellspacing="0" cellpadding="1"><tr><td bgcolor="#666666"><table width="168" border="0" cellspacing="0" cellpadding="3" bgcolor="#EEEEEE"><tr valign="top"><td class="btb"><a href="/isapi/product_id~{34FDA56F-E75D-435B-AA49-18B1AB828924}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/index.asp">Installing Fedora</a></td></tr><tr valign="top"><td class="btb"><a href="/isapi/product_id~{65B4BE0B-106D-4086-9B80-38810B74A874}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/index.asp">Burn It and Boot It: "Live CD" Linux</a></td></tr><tr valign="top"><td class="btb"><a href="/isapi/product_id~{02C7699E-90E4-445F-92F4-3DCC6F782A56}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/index.asp">TOURCast: A Real-Time Golf Coverage Application on Linux</a></td></tr><tr valign="top"><td class="btb" align="right"><a href="/isapi/page~1/n~{ED0219AB-162F-400B-911E-7CDDF684E1FF}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/articles/index.asp">more&#133;</a></td></tr></table></td></tr></table><table width="170" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><img src="/images/table_headers/related_books.gif" width="170" height="14" alt="Related Books" /></td></tr></table><table width="170" border="0" cellspacing="0" cellpadding="1"><tr><td bgcolor="#666666"><table width="168" border="0" cellspacing="0" cellpadding="3" bgcolor="#EEEEEE"><tr valign="top"><td class="btb"><a href="/isapi/product_id~{C58B78F3-E460-475D-B9FF-10B4520286DE}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/index.asp">Red Hat Linux 9: Visual QuickPro Guide</a></td></tr><tr valign="top"><td class="btb"><a href="/isapi/product_id~{988F8234-078D-4EEB-BA54-3EB41BA76415}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/index.asp">Red Hat Linux Fedora Unleashed</a></td></tr><tr valign="top"><td class="btb"><a href="/isapi/product_id~{5A412B06-04A1-4159-AAC0-7C867A166F39}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/index.asp">Linux Shell Scripting with Bash</a></td></tr><tr valign="top"><td class="btb" align="right"><a href="/isapi/page~1/n~{ED0219AB-162F-400B-911E-7CDDF684E1FF}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/book_store/index.asp">more&#133;</a></td></tr></table></td></tr></table><table width="170" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><img src="/images/table_headers/related_online_books.gif" width="170" height="14" alt="Related Online Books" /></td></tr></table><table width="170" border="0" cellspacing="0" cellpadding="1"><tr><td bgcolor="#666666"><table width="168" border="0" cellspacing="0" cellpadding="3" bgcolor="#EEEEEE"><tr valign="top"><td class="btb"><a href="http://safari.informit.com/main.asp?bookname=0131408828">Managing Linux Systems with Webmin: System Administration and Module Development</a></td></tr><tr valign="top"><td class="btb"><a href="http://safari.informit.com/main.asp?bookname=0130464562">Real World Linux Security</a></td></tr><tr valign="top"><td class="btb"><a href="http://safari.informit.com/main.asp?bookname=0201734206">Multitool Linux: Practical Uses for Open Source Software</a></td></tr><tr valign="top"><td class="btb" align="right"><a href="http://safari.informit.com">more&#133;</a></td></tr></table></td></tr></table><p>&nbsp;</p></td><td class="pgBody" valign="top"><table cellpadding="0" border="0" cellspacing="0" align="right"><tr><td width="9"><img src="/images/basics/dot.gif" width="9" height="1" /></td><td><!--AD BEGIN: 336x280 -->
<table border="0" cellspacing="0" cellpadding="1" align="center">
<tr>
<td bgcolor="#EEEEEE" align="center" class="pst03"><a href="/about/mediakit/index.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}">Advertise With Us</a></td>
</tr>
<tr>
<td bgcolor="#454B55" align="center"><SCRIPT language="JavaScript1.1" SRC="http://ad.doubleclick.net/adj/informit/Operating_Systems:Linux;abr=!webtv;sz=336x280;tile=3;ord=1075083242383?">  </SCRIPT>   <SCRIPT>   if ((!document.images && navigator.userAgent.indexOf('Mozilla/2.') >= 0)  || navigator.userAgent.indexOf("WebTV")>= 0) {  document.write('<A HREF="http://ad.doubleclick.net/jump/informit/Operating_Systems:Linux;sz=336x280;tile=3;ord=1075083242383?">');  document.write('<IMG SRC="http://ad.doubleclick.net/ad/informit/Operating_Systems:Linux;sz=336x280;tile=3;ord=1075083242383?" border="0" height="280" width="336"></A>')   }   </SCRIPT>     <NOSCRIPT>   <A HREF="http://ad.doubleclick.net/jump/informit/Operating_Systems:Linux;sz=336x280;tile=3;ord=1075083242383?" >  <IMG SRC="http://ad.doubleclick.net/ad/informit/Operating_Systems:Linux;sz=336x280;tile=3;ord=1075083242383?" border="0" height="280" width="336"></A>  </NOSCRIPT></td>
</tr>
</table>
<!--AD END: 336x280--></td></tr><tr><td><img src="/images/basics/dot.gif" width="9" height="9" /></td><td><img src="/images/basics/dot.gif" width="1" height="9" /></td></tr></table><h2>Kernel Configuration</h2>
<p>Here&#039;s a summary of the steps:</p>
<ol>
<li><p><tt>make mrproper</tt>.</p></li>
<li><p><tt>make xconfig</tt> (or <tt>make menuconfig</tt>).</p></li>
<li><p>Load the saved config file, if you have one.</p></li>
<li><p><tt>make dep</tt>.</p></li>
<li><p><tt>make bzImage</tt>.</p></li>
<li><p><tt>make modules</tt>.</p></li>
<li><p><tt>make modules_install</tt>.</p></li>
<li><p>Copy <tt>arch/<i>architecture</i>/boot/bzImage</tt> to
<tt>/boot/bzImage.<i>name</i></tt>.</p></li>
<li><p>Configure the bootloader.</p></li>
</ol>
<p>The master configuration for your kernel is stored in
<tt>/usr/src/<i>version</i>/.config</tt>. This file is created by the config
process you&#039;ll run, and it&#039;s a good idea to copy it somewhere else in
case you need to build another kernel with minor changes later on. A number of
configuration templates are provided with the kernel source; they&#039;re
located in the <tt>configs</tt> directory. These templates can be used as a
starting point for creating your own kernel.</p>
<p>Before configuring your kernel, clean up your source directory:</p>
<pre>[root@heinz linux-2.4.20-8]# make mrproper</pre>
<p>The <tt>make mrproper</tt> command cleans up any leftover files from previous
kernel builds in your source directory.</p>
<div class="note">
<p class="normaltitle"><b>NOTE</b></p>
<p>It also wipes out any <tt>.config</tt> files in your source directory.</p>
</div>
<p>Next, you need to name your kernel by editing the <tt>Makefile</tt>, located
in your source directory. The first four lines of the <tt>Makefile</tt> define
the kernel version:</p>
<pre>VERSION = 2
PATCHLEVEL = 4
SUBLEVEL = 20
EXTRAVERSION = -8</pre>
<p>Just change the <tt>EXTRAVERSION</tt> entry to a unique identifier for the
kernel you&#039;re building:</p>
<pre>EXTRAVERSION = -oct-03</pre>
<p>This identifier will show up in your boot menu, and will also define a unique
module directory for the kernel.</p>
<p>Now you&#039;re ready to configure the kernel. There are a number of interface 
  choices, and the <tt>README</tt> file provides a full list. The most important 
  ones to know are <tt>menuconfig</tt> (text-based, as shown in <a href="javascript:popUp('/content/images/art_hunter3_kernelbuild/elementLinks/fig02.gif')">Figure 
  2</a>) and <tt>xconfig</tt> (X11-based, as shown in <a href="javascript:popUp('/content/images/art_hunter3_kernelbuild/elementLinks/fig03.gif')">Figure 
  3</a>). The <tt>xconfig</tt> interface is much easier to work with, and I wouldn&#039;t 
  recommend using <tt>menuconfig</tt> unless your system lacks X11 support. Here&#039;s 
  the syntax:</p>
<pre>[root@heinz linux-2.4.20-8]# make xconfig</pre>
<p>or</p>
<pre>[root@heinz linux-2.4.20-8]# make menuconfig</pre>
<p><b><a href="javascript:popUp('/content/images/art_hunter3_kernelbuild/elementLinks/fig02.gif')"><img src="/content/images/art_hunter3_kernelbuild/elementLinks/thfig02.gif" width="100" height="75" alt="Figure 2" border="0" hspace="5" align="left">Figure
2</a> The <tt>menuconfig</tt> interface.</b></p>
<br clear="all" />
<p><b><a href="javascript:popUp('/content/images/art_hunter3_kernelbuild/elementLinks/fig03.gif')"><img src="/content/images/art_hunter3_kernelbuild/elementLinks/thfig03.gif" width="100" height="75" alt="Figure 3" border="0" hspace="5" align="left">Figure
3</a> The <tt>xconfig</tt> interface.</b></p>
<br clear="all" />
<p>The configuration interface presents an exhaustive list of options. For each
option, three choices are available:</p>
<ul>
<li><p><b>Yes.</b> Support will be compiled directly into the kernel.</p></li>
<li><p><b>Module.</b> Support will be provided via a loadable kernel
module.</p></li>
<li><p><b>No.</b> Support is not included.</p></li>
</ul>
<div class="note">
<p class="normaltitle"><b>NOTE</b></p>
<p>Loadable kernel modules offer a way for drivers to be loaded dynamically into
the kernel. Loading drivers only if needed keeps the overall size of the kernel
to a minimum. If you want to leave the door open for hardware upgrades in the
future, include modules for anything you might be adding to the system.</p>
</div>
<p>As you start to drill down into the individual categories, you may find the
choices a bit overwhelming. The <tt>xconfig</tt> interface really helps out
here, as there&#039;s a help option for almost every choice. Knowing the
hardware in your system will simplify the process as well. After you&#039;ve
made all your choices, click the Save button to store everything in the
<tt>.config</tt> file (located in your source directory), and exit the
configuration tool. If you&#039;re storing copies of your <tt>.config</tt> files
in another location, don&#039;t forget to copy the new one over.</p>
<br clear="all" /><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top">&nbsp;</td><td align="right" valign="top">&nbsp;&nbsp;</td><td align="right" valign="top"><table border="0" cellspacing="0" cellpadding="0"><tr><td class="pgBody" align="right" valign="top" height="21"><a href="/isapi/product_id~{86BE9192-12C9-45B6-9670-61B2CE43B0DC}/element_id~{DBC0C5EC-8EDF-4E1A-A8B9-594BE0C85A2C}/st~{BAC7BB78-22CD-4E1E-9387-19EEB5B71759}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/articlex.asp"><b>Next Section</b><br /><font face="Verdana, Geneva, Arial, Helvetica, sans-serif">4. </font>Building the Kernel</a></td><td class="pgBody" align="right" valign="top" height="21"><a href="/isapi/product_id~{86BE9192-12C9-45B6-9670-61B2CE43B0DC}/element_id~{DBC0C5EC-8EDF-4E1A-A8B9-594BE0C85A2C}/st~{BAC7BB78-22CD-4E1E-9387-19EEB5B71759}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/content/articlex.asp"><img src="/images/buttons/arrow_right.gif" width="11" height="11" hspace="3" border="0" /></a></td></tr></table></td></tr></table><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td><img src="/images/basics/dot.gif" width="250" height="21" /></td></tr><tr><td bgcolor="#666666"><img src="/images/basics/dot.gif" width="250" height="1" /></td></tr><tr><td bgcolor="#EEEEEE" nowrap="true"><img src="/images/table_headers/rate_this_article.gif" width="170" height="15" alt="Rate This Article" /></td></tr><tr><td nowrap="true">&nbsp;</td></tr></table><table border="0" cellspacing="0" cellpadding="1"><form method="POST" name="product_rating_vote" action="/includes/objects/Vote.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}"><input type="hidden" name="form_name" value="product_rating_vote" /><input type="hidden" name="product_id" value="{86BE9192-12C9-45B6-9670-61B2CE43B0DC}" /><input type="hidden" name="redirect_url" value="http%3A%2F%2Fwww%2Einformit%2Ecom%2Fcontent%2Farticlex%2Easp%3Fproduct%5Fid%3D%257B86BE9192%2D12C9%2D45B6%2D9670%2D61B2CE43B0DC%257D%26element%5Fid%3D%257BCCF0D995%2DC97F%2D4B08%2DB0E5%2D0515E13040A7%257D%26st%3D%257BBAC7BB78%2D22CD%2D4E1E%2D9387%2D19EEB5B71759%257D" /><tr bgcolor="#FFFFFF"><td class="pgBody"><b>How would you rate this article?</b></td><td class="pgBody">&nbsp;&nbsp;</td><td><select name="product_rating" size="1" class="formDropdown"><option value="1">1 - Poor</option><option value="2">2</option><option value="3" selected="true">3 - Average</option><option value="4">4</option><option value="5">5 - Good</option></select></td><td class="pgBody">&nbsp;&nbsp;</td><td class="pgBody"><input type="image" border="0" name="submit" src="/images/buttons/vote_now.gif" width="53" height="15" alt="Vote Now" /></td></tr></form></table><br /><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td><img src="/images/basics/dot.gif" width="250" height="21" /></td></tr><tr><td bgcolor="#666666"><img src="/images/basics/dot.gif" width="250" height="1" /></td></tr><tr><td bgcolor="#EEEEEE" nowrap="true"><img src="/images/table_headers/most_active_comments.gif" width="170" height="15" alt="Most Active Comments" /></td></tr><tr><td nowrap="true">&nbsp;</td></tr></table><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td bgcolor="#666666"><table border="0" cellspacing="1" cellpadding="3" width="100%"><tr valign="top"><td bgcolor="#CCCCCC" class="listColumn" nowrap="true"><b>Comment</b></td><td nowrap="true" bgcolor="#CCCCCC" class="listColumn"><b>Author</b></td><td bgcolor="#CCCCCC" class="listColumn" nowrap="true"><b>Replies</b></td><td nowrap="true" bgcolor="#999999" class="listColumn"><b>Posted</b></td></tr><tr valign="top"><td bgcolor="#FFFFFF" class="listBody"><p><a name="{BC9DD050-4878-44FB-B477-FE9B8FAA4C67}"></a>&nbsp;<b><a href="/isapi/postid~{BC9DD050-4878-44FB-B477-FE9B8FAA4C67}/st~{BAC7BB78-22CD-4E1E-9387-19EEB5B71759}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/discussion/showComments.asp">nothing new</a></b></p></td><td bgcolor="#FFFFFF" class="listBody"><p>my_all@postmaster.co.uk</p></td><td bgcolor="#FFFFFF" class="listBody">5</td><td bgcolor="#EEEEEE" class="listBody" nowrap="true">DEC 22, 2003 02:44:08 AM</td></tr><tr valign="top"><td bgcolor="#FFFFFF" class="listBody"><p><a name="{4EBF66D8-988B-40B6-877C-80037B869414}"></a>&nbsp;<b><a href="/isapi/postid~{4EBF66D8-988B-40B6-877C-80037B869414}/st~{BAC7BB78-22CD-4E1E-9387-19EEB5B71759}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/discussion/showComments.asp">Kernel buld How-To</a></b></p></td><td bgcolor="#FFFFFF" class="listBody"><p>Larry</p></td><td bgcolor="#FFFFFF" class="listBody">5</td><td bgcolor="#EEEEEE" class="listBody" nowrap="true">DEC 21, 2003 12:39:32 PM</td></tr><tr valign="top"><td bgcolor="#FFFFFF" class="listBody"><p><a name="{05C59275-6FE8-4F81-80B3-26613E4F26C1}"></a>&nbsp;<b><a href="/isapi/postid~{05C59275-6FE8-4F81-80B3-26613E4F26C1}/st~{BAC7BB78-22CD-4E1E-9387-19EEB5B71759}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/discussion/showComments.asp">Read the source? Get real.</a></b></p></td><td bgcolor="#FFFFFF" class="listBody"><p>barius</p></td><td bgcolor="#FFFFFF" class="listBody">3</td><td bgcolor="#EEEEEE" class="listBody" nowrap="true">DEC 22, 2003 05:58:17 PM</td></tr><tr valign="top"><td bgcolor="#FFFFFF" class="listBody"><p><a name="{90EB15B9-7C7D-4D52-B958-85D16F29DCEF}"></a>&nbsp;<b><a href="/isapi/postid~{90EB15B9-7C7D-4D52-B958-85D16F29DCEF}/st~{BAC7BB78-22CD-4E1E-9387-19EEB5B71759}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/discussion/showComments.asp">Over-general subject</a></b></p></td><td bgcolor="#FFFFFF" class="listBody"><p>paulbowman</p></td><td bgcolor="#FFFFFF" class="listBody">3</td><td bgcolor="#EEEEEE" class="listBody" nowrap="true">DEC 22, 2003 01:36:09 PM</td></tr><tr valign="top"><td bgcolor="#FFFFFF" class="listBody"><p><a name="{2EAB3F6A-F880-4E94-83E8-B11C2FD25AB9}"></a>&nbsp;<b><a href="/isapi/postid~{2EAB3F6A-F880-4E94-83E8-B11C2FD25AB9}/st~{BAC7BB78-22CD-4E1E-9387-19EEB5B71759}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/discussion/showComments.asp">no root</a></b></p></td><td bgcolor="#FFFFFF" class="listBody"><p>barius</p></td><td bgcolor="#FFFFFF" class="listBody">1</td><td bgcolor="#EEEEEE" class="listBody" nowrap="true">DEC 22, 2003 05:46:28 PM</td></tr></table></td></tr><tr><td class="listBody" align="right"><a href="/isapi/product_id~{86BE9192-12C9-45B6-9670-61B2CE43B0DC}/st~{BAC7BB78-22CD-4E1E-9387-19EEB5B71759}/session_id~{94C22757-9EAC-4164-B3BB-A74C0DA74D69}/discussion/showComments.asp">See All Comments</a>&nbsp;<img src="/images/buttons/arrow_right.gif" width="11" height="11" align="absmiddle" vspace="3" /></td></tr><tr><td class="pb02More" align="right">&nbsp;</td></tr></table><table border="0" cellspacing="0" cellpadding="0" width="100%"><tr><td bgcolor="#666666"><table border="0" cellspacing="1" cellpadding="3" width="100%"><form method="POST" action="/discussion/addPost.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}" id="PostForm" name="PostForm"><input type="hidden" name="product_id" value="{86BE9192-12C9-45B6-9670-61B2CE43B0DC}" /><input type="hidden" name="postid" value="" /><input type="hidden" name="userid" value="" /><input type="hidden" name="messageFlag" value="1" /><tr valign="top"><td nowrap="true" bgcolor="#CCCCCC" class="listColumn" colspan="2"><b>Make a New Comment</b></td></tr><tr valign="top"><td bgcolor="#FFFFFF" class="listBody" align="right"><p>Subject:</p></td><td bgcolor="#FFFFFF"><p><input type="text" name="subject" size="40" class="formText" /></p></td></tr><tr valign="top"><td bgcolor="#FFFFFF" class="listBody" align="right"><p>Username:</p></td><td bgcolor="#FFFFFF"><p><input type="text" name="userHandle" size="40" maxlength="200" value="" class="formText" /></p></td></tr><tr valign="top"><td bgcolor="#FFFFFF" class="listBody"><p align="right">Message:</p></td><td bgcolor="#FFFFFF"><textarea name="body" cols="40" rows="5" class="formText"></textarea></td></tr><tr valign="top"><td bgcolor="#FFFFFF" class="listBody"><p align="right"><nobr></nobr></p></td><td bgcolor="#FFFFFF" class="listBody"><p><input type="image" border="0" name="submit" src="/images/buttons/post_comment.gif" width="82" height="15" /></p></td></tr></form></table></td></tr></table></td></tr></table></td>
</tr>
</table>
</td>
<td valign="top" bgcolor="#454B55" width="126"><table width="100%" border="0" cellspacing="0" cellpadding="0">
 <tr>
  <td align="center"> 
<!--AD BEGIN: Skyscraper--><SCRIPT language="JavaScript1.1" SRC="http://ad.doubleclick.net/adj/informit/Operating_Systems:Linux;abr=!webtv;sz=120x600;tile=2;ord=1075083242383?">
</SCRIPT> 
 
<SCRIPT> 
if ((!document.images && navigator.userAgent.indexOf('Mozilla/2.') >= 0)  || navigator.userAgent.indexOf("WebTV")>= 0) {
document.write('<A HREF="http://ad.doubleclick.net/jump/informit/Operating_Systems:Linux;sz=120x600;tile=2;ord=1075083242383?">');
document.write('<IMG SRC="http://ad.doubleclick.net/ad/informit/Operating_Systems:Linux;sz=120x600;tile=2;ord=1075083242383?" border="0" height="600" width="120"></A>') 
} 
</SCRIPT> 
<NOSCRIPT> 
<A HREF="http://ad.doubleclick.net/jump/informit/Operating_Systems:Linux;sz=120x600;tile=2;ord=1075083242383?" >
<IMG SRC="http://ad.doubleclick.net/ad/informit/Operating_Systems:Linux;sz=120x600;tile=2;ord=1075083242383?" border="0" height="600" width="120"></A>
</NOSCRIPT><!--AD END: Skyscraper-->
  </td>
 </tr>
</table></td>
</tr>
<tr>
<td width="99%" bgcolor="#A3A8B1" align="center">
<table border="0" cellspacing="3" cellpadding="0">
<tr>
<td nowrap="true" class="copyright" align="center">
<p><a href="/about/index.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}">About Us</a> | <a href="/about/mediakit/index.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}">Advertise On InformIT</a> | <a href="/about/contact_us/index.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}">Contact Us</a> | <a href="/sitemap/index.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}">Site Map</a> | <a href="/member/titles.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}">Book Registration</a></p>
</td>
</tr>
<tr>
<td nowrap="true" class="copyright" align="center">&copy; 2004 Pearson Education, Inc. InformIT Division. All rights reserved.</td>
</tr>
<tr>
<td nowrap="true" class="copyright" align="center">800 East 96th Street Indianapolis, Indiana 46240</td>
</tr>
<tr>
<td nowrap="true" class="copyright" align="center"><a href="/about/legal.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}">Legal Notice</a> | <a href="/about/privacy.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}">Privacy Policy</a></td>
</tr>
<tr>
<td nowrap="true" class="copyright" align="center"><a href="/about/privacy.asp?session_id={94C22757-9EAC-4164-B3BB-A74C0DA74D69}"><img src="/images/privacy/finalmark.gif" width="116" height="31" border="0"></a></td>
</tr>
</table>
</td>
<td bgcolor="#A3A8B1" width="126"><img src="/images/basics/dot.gif" width="120" height="40" hspace="3"></td>
</tr>
</table><!--AD BEGIN: Superstitial--><IFRAME SRC="http://ad.doubleclick.net/adi/informit/Operating_Systems:Linux;dcopt=ist;sz=1x1;ord=1075083242383?" name="frame1" width="1" height="1" frameborder="no" border="0" MARGINWIDTH="0" MARGINHEIGHT="0" SCROLLING="no">
<SCRIPT language="JavaScript1.1" SRC="http://ad.doubleclick.net/adj/informit/Operating_Systems:Linux;abr=!ie;dcopt=ist;sz=1x1;ord=1075083242383?">
</SCRIPT>
<NOSCRIPT>
<A HREF="http://ad.doubleclick.net/jump/informit/Operating_Systems:Linux;abr=!ie;dcopt=ist;sz=1x1;ord=1075083242383?"><IMG SRC="http://ad.doubleclick.net/ad/informit/Operating_Systems:Linux;abr=!ie;dcopt=ist;sz=1x1;ord=1075083242383?" border=0 height="1" width="1"></A>
</NOSCRIPT>
</IFRAME>
<!--AD END: Superstitial--></body>
</html>

